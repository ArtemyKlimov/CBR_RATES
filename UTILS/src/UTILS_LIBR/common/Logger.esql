BROKER SCHEMA common


CREATE COMPUTE MODULE Logger_Route
	DECLARE logLevel EXTERNAL INTEGER 0;
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		SET OutputLocalEnvironment = InputLocalEnvironment;
		CASE logLevel
		WHEN 1 THEN PROPAGATE TO TERMINAL 'out1' MESSAGE InputRoot DELETE NONE;
		WHEN 2 THEN PROPAGATE TO TERMINAL 'out2' MESSAGE InputRoot DELETE NONE;
		END CASE;
					
		RETURN TRUE;
	END;
END MODULE;
